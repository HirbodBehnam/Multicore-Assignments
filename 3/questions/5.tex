\section{\lr{GPU and SIMD}}
\begin{enumerate}
    \item از آنجا که ۱۰۲۴ ترد داریم پس $\frac{1024}{32} = 32$ \lr{warp} نیاز است.
    \item در ابتدا تعداد کل دستوراتی که اجرا می‌شوند (چه مفید و چه غیر مفید) برابر است با
    $1024 \times (k + 3)$.
    حال تعداد ترد‌هایی که بدنه‌ی شرط را اجرا می‌کنند برابر است با
    $\frac{1024}{16} = 64$.
    پس تعداد دستورات مفیدی که اجرا می‌شوند برابر است با
    \begin{gather*}
        64 \times (k + 3) + (1024 - 64) \times (3) = 64k + 3072
    \end{gather*}
    پس در نهایت داریم:
    \begin{gather*}
        \frac{64k + 3072}{1024 \times (k + 3)} = \frac{11}{32} \implies k = 7
    \end{gather*}
    \item نکته‌ای که در این قسمت وجود دارد این است که از آنجا که تمامی ترد‌های
    \lr{warp}های
    وسط به آن ور شرط داخل حلقه را اجرا نمی‌کنند،‌ آنها کلا ۳ دستور اجرا می‌کنند که همه‌ی آنها مفید هم هستند!
    پس در نتیجه کل دستورات اجرا شده برابر است با:
    \begin{gather*}
        \frac{1024}{2} \times (k + 3) + \frac{1024}{2} \times 3
    \end{gather*}
    حال تعداد دستور العمل‌های مفید نیز برابر است با:
    \begin{gather*}
        \frac{512}{16} \times (k + 3) + (512 - \frac{512}{16}) \times (3) + \frac{1024}{2} \times 3
    \end{gather*}
    پس بازدهی برابر است با:
    \begin{gather*}
        \frac{\frac{512}{16} \times (k + 3) + (512 - \frac{512}{16}) \times (3) + \frac{1024}{2} \times 3}{\frac{1024}{2} \times (k + 3) + \frac{1024}{2} \times 3} = \frac{5}{8}\\
        \implies k = 4
    \end{gather*}
\end{enumerate}