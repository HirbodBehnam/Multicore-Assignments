\section{\lr{Cache Coherence (II)}}
در ابتدا متوجه می‌شویم که از آنجا که هیچ دستوری بر روی
$P_3$
اجرا نمی‌شود پس می‌توان نتیچه گرفت که
\lr{tag}های
ما دست نخورده‌اند. پس نهایتا
\lr{MESI}
آن عوض شده است. با توجه بیشتر متوجه می‌شویم که به آدرس‌های این فیلد‌ها نیز دسترسی نداریم! پس حالت کش
$P_3$
دقیقا همان است که در ابتدا بوده.

حال به سراغ
$P_2$
می‌رویم. در این هسته، تنها یک
\lr{load}
از آدرس
\lr{0x1FFFFF40}
اتفاق می‌افتد و این بلاک مموری در شماره
\lr{set 1}
می‌رود. حال نکته‌ای که وجود دارد این است که بقیه‌ی
\lr{set}ها
که دست نخورده باقی باید مانده باشند از ابتدا. همچنین دقت کنید که کس دیگری به بلاک‌های موجود در
$P_2$
دسترسی نداشته است. اما برای
\lr{set 2}
چندین حالت می‌توان در نظر گرفت. می‌توان فرض کرد که اصلا آدرس دیگری در این
\lr{set}
نوشته شده بود. همچنین  می‌توان فرض کرد که همین آدرس بوده است اما با حالت
\lr{S} یا \lr{M} یا \lr{I}
دقت کنید که
\lr{E}
نمی‌تواند باشد چرا در 
\lr{cache 1}
از قبل این مقدار را داشتیم و در انتهای برنامه دست نخورده و
\lr{invalid}
است.

حال سراغ
$P_0$
می‌رویم چرا که تنها یک دسترسی مموری در آن هسته اجرا شده است. این هسته به
\lr{set 1}
دسترسی پیدا کرده است. پس مقدار اولیه‌ی این خانه دقیقا مقادیر اولیه‌ی ذکر شده برای
\lr{set 1}
در
$P_2$
را می‌تواند داشته باشد.
\lr{set 0}
در هیچ دستور دیگری دست نخورده است پس همان می‌ماند. اما
\lr{set 2} و \lr{set 3};
از آنجا که در آدرس
\lr{0x110000c0}
تنها یک مقدار خوانده‌ایم، می‌توان نتیجه گرفت که پس 
\lr{set 3}
باید دست نخورده باشد (مقدار نهایی برابر مقدار اولیه باشد). از طرفی در
\lr{0x11000080}
نوشته‌ایم. پس
\lr{set 2}
می‌تواند که
\lr{I} یا \lr{S} یا \lr{E}
باشد.

در نهایت به سراغ
$P_1$
می‌رویم. در ابتدا مشاهده می‌شود که
\lr{set 3}
می‌توانست هر مقدار دیگری برای
\lr{tag}اش
یا
\lr{S} با همین 
\lr{tag}
باشد. برای
\lr{set 2}
نیز دقیقا به همین ترتیب می‌توان استدلال کرد.
برای
\lr{set 0}
از آنجا که فقط یک دسترسی
\lr{load}
صورت گرفته است و در
$P_0$
نیز دقیقا همین
\lr{line}
وجود دارد پس می‌توان نتیجه گرفت که یا باید یک
\lr{tag}
دیگر در این
\lr{entry}
می‌بود یا اینکه دقیقا همین
\lr{tag}
باید قرار می‌داشت. در نهایت
\lr{set 1}
نیز دست نخورده در دستورات اجرا شده بر روی این هسته بود. برای همین مقدار اولیه‌ی حالت این
\lr{line}
می‌توانست یا
\lr{E} باشد یا \lr{S}.
