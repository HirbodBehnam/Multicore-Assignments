a = (c_ptr[i] != 0) * (a + p1[i]) + (c_ptr[i] == 0) * (a * p2[i]);